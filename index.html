<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>WebAR with Rotation and Zoom</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-gesture-detector/dist/aframe-gesture-detector.min.js"></script>
  </head>

  <body style="margin:0; overflow:hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <!-- Pattern marker: Hiro -->
      <a-marker preset="hiro">
        <a-entity 
          id="model"
          gltf-model="femalemodelwithlabel(final).glb"  <!-- your 3D model -->
          scale="0.01 0.01 0.01"
          position="0 0 0"
          gesture-detector
        ></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const model = document.querySelector('#model');
      let rotationY = 0;

      // Rotate with one finger / mouse drag
      model.addEventListener('onefingermove', (evt) => {
        const movementX = evt.detail.positionChange.x;
        rotationY += movementX * 0.5; // adjust rotation speed
        model.object3D.rotation.y = THREE.MathUtils.degToRad(rotationY);
      });

      // Scale with pinch (zoom in/out)
      model.addEventListener('twofingermove', (evt) => {
        const scaleChange = evt.detail.spreadChange / 200; // adjust zoom speed
        model.object3D.scale.x = Math.max(0.01, model.object3D.scale.x + scaleChange);
        model.object3D.scale.y = Math.max(0.01, model.object3D.scale.y + scaleChange);
        model.object3D.scale.z = Math.max(0.01, model.object3D.scale.z + scaleChange);
      });
    </script>
  </body>
</html>

